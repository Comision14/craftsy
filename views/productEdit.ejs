<!DOCTYPE html>
<html lang="en">

    <%- include('./partials/head',{
        title : 'Nuevo producto'
    })  %> 


<body class="register">
    <%- include('./partials/header_admin') %> 

    <main>
        <section>
            <h2>Editar Producto: <%= product.name %></h2>
            <hr>
            <form method="POST" action="/products/update/<%= product.id %>?_method=PUT" enctype="multipart/form-data">
                <article>
                    <div><img src="/images/<%= product.img %>" alt=""></div>
                <div class="register__form-box">
                    <label for="name">Nombre del producto</label>
                    <input class="register__form-input" type="text" id="name" name="name" value="<%= product.name %>">
                    <span class="text-danger"><%= locals.errors && errors.name ? errors.name.msg : null%> </span>
                </div>
                <div class="register__form-box">
                    <label for="price">Precio</label>
                    <input class="register__form-input" type="number" id="price" name="price" value="<%= product.price %>">
                    <span class="text-danger"><%= locals.errors && errors.price ? errors.price.msg : null%> </span>

                </div>
         
                <div class="register__form-box">
                        <label for="category">Categorias</label>
                        <select class="register__form-select" name="category" id="category">
                            <% categories.forEach(category => { %>
                              <option value="<%= category.id %>" <%= category.id === product.category ? 'selected' : null %>><%= category.name %></option>
                            <% }) %>
                          </select>
                          <span class="text-danger"><%= locals.errors && errors.category ? errors.category.msg : null%> </span>

                </div>
                <div class="register__form-box">
                    <label for="origin">Origen</label>
                    <select class="register__form-select" name="origin" id="origin">
                        <option value="china" <%= product.features[0].toLowerCase() === "china" && 'selected' %> >China</option>
                        <option value="brasil" <%= product.features[0].toLowerCase() === "brasil" && 'selected' %> >Brasil</option>
                        <option value="estados unidos" <%= product.features[0].toLowerCase() === "estados unidos" && 'selected' %> >Estados Unidos</option>
                        <option value="taiwan" <%= product.features[0].toLowerCase() === "taiwan" && 'selected' %> >Taiwan</option>
                        <span class="text-danger"><%= locals.errors && errors.origin ? errors.origin.msg : null%> </span>

                    </select>
                </div>
                <div class="register__form-box">
                    <label for="state">Estado</label>
                    <select class="register__form-select" name="state" id="state">
                        <option value="nuevo" <%= product.features[1].toLowerCase() === "nuevo" && 'selected' %>>Nuevo</option>
                        <option value="refaccionado" <%= product.features[1].toLowerCase() === "refaccionado" && 'selected' %>>Refaccionado</option>
                    </select>
                    <span class="text-danger"><%= locals.errors && errors.state ? errors.state.msg : null%> </span>

                </div>
                <div class="register__form-box">
                    <label for="image">Imagen</label>
                    <input class="register__form-input" type="file" id="image" name="image" accept="image/*">
                </div>
                 
            </article>
               
            <div class="register__form-box d-flex justify-content-end align-items-end">
                <button type="reset" class="me-2 btn  btn-secondary">Limpiar</button>
                <button type="submit" class="btn btn-success">Guardar</button>
            </div>
                  
            </form>
        </section>

    </main>

</body>

</html>